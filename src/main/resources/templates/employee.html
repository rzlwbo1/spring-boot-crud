<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Home Page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body class="mx-5 has-text-black">

    <h3>MVC Spring</h3>
    <p th:text="${springMessage}"></p>
    <div id="data-collection" class="container">

        <!-- Message -->

        <div class="notification is-primary is-light" th:if="${success}">
            <button class="delete"></button>
             <p th:text="${success}"></p>
        </div>


        <div id="add-employee" class="mt-4" style="width: 30%;">
            <form th:action="@{/employee/save}" method="post" th:object="${employeeForm}">

                <div class="field">
                    <label class="label">First Name</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{firstName}" required>
                    </div>
                </div>

                <div class="field">
                    <label class="label">last Name</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{lastName}">
                    </div>
                </div>

                <div class="field">
                    <label class="label">Contact</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{contact}">
                    </div>
                </div>

                <div class="field">
                    <label class="label">Address</label>
                    <div class="control">
                        <input class="input" type="text" th:field="*{address}">
                    </div>
                </div>

                <button type="submit" class="button is-primary">Save</button>

<!--                <label>First Name</label>-->
<!--                <input type="text" th:text="*{firstName}"/><br/>-->
<!--                <label>Last Name</label>-->
<!--                <input type="text" th:text="*{lastName}"/><br/>-->
<!--                <label>Contact</label>-->
<!--                <input type="text" th:text="*{contact}"/><br/>-->
<!--                <label>Address</label>-->
<!--                <input type="text" th:text="*{address}"/><br/>-->
<!--                <button type="submit">Save</button>-->
            </form>
        </div>


        <section id="table-datas" class="mt-3">
            <table class="table is-hoverable is-fullwidth" >
                <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Contact</th>
                    <th>Address</th>
                    <th>Aksi</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="employee : ${employees}">
                    <td th:text="${employee.firstName}"></td>
                    <td th:text="${employee.lastName}"></td>
                    <td th:text="${employee.contact}"></td>
                    <td th:text="${employee.address}"></td>
                    <td>
                        <button class="button is-danger" th:onclick="deleteData('[[${employee.id}]]')">delete</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </section>
    </div>


    <script inline="javascript">
        /*<![CDATA[*/
        var baseUrl = /*[[@{/}]]*/ "";
        /*]]>*/
        function deleteData(data) {
            var conf = confirm("are you sure?")
            if(conf == true) {
                window.location = baseUrl + "employee/delete?id="+data;
            }

            return false;
        }
    </script>
    <script src="script.js"></script>
</body>
</html>